### 21년 1월 17일

- 쿠키로 로그인을 구현하면 보안에 위험이 큼.
- 현대적인 앱은 쿠키로 직접 인증을 구현하지 않고 쿠키는 사용자를 식별하는데만 사용하고 실제 데이터는 서버에 저장하는 것으로 구현함.
- session의 옵션

  - secret : 따로 파일을 만들어서 써야함. 꼭 있어야하는 옵션. 남이 봐서 안돼
  - saveUninitialized : 세션이 필요하지 않으면 구동하지 않는다 라는뜻

- req.session으로 확인가능
- 세션은 기본적으로 메모리에 저장을 함. 그래서 서버를 끄면 데이터가 다 날아감

- session-file-stroe를 설치하면 파일에 세션을 저장할 수 있음
- 세션 속성으로

```
store: new FileStroe()
```

넣어서 사용가능

- 세션 아이디가 있는 상태로 접속하면 req header에서 쿠키값으로 서버쪽으로 세션 아이디를 전송함 그럼 세션 미들웨어가 세션 스토어에서 대응되는 파일을 읽고 req.session에 객체를 추가함.
- 내가 뭐 세션스토어를 mysql로 하면 mysql로 사용하고 그른거~
